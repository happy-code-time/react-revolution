module.exports=(()=>{var e={404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(221),o=n.n(r),a=n(946),i=n.n(a),c=n(33),l=n.n(c),s=n(491),u=n.n(s),d=n(22),h=n.n(d),p=n(246),f=n.n(p),v=n(323),y=n.n(v);const m=require("react");var g=n.n(m),w=n(924),k=n.n(w);const b=function(e){var t=!0;k()([])===k()(e)&&e||(t=!1);try{if(t.length)for(var n=0;n<=t.length-1;n++){t[n];break}}catch(e){t=!1}return t};const C=function(e){return null!=e&&k()("")===k()(e)};const x=function(e){return null!=e&&k()(!0)===k()(e)};const P=function(e){return null!=e&&k()((function(){}))===k()(e)};const A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!1;return e.map((function(e){n[e]!==t[e]&&(r=!0)})),r};const O=function(e){var t=!0;k()({})===k()(e)&&e||(t=!1);try{Object.keys(e)}catch(e){t=!1}return t};const E=function(e){return null!=e&&k()(8)===k()(e)};var D=void 0;const S=function e(){var t="".concat(Math.floor(1e6*Math.random())).concat(Math.floor(1e6*Math.random())).concat(Math.floor(1e6*Math.random()));return D!==t?(D=t,t):e()};function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}const N=function(e){h()(n,e);var t=K(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).refNode=g().createRef(),r.setArrowChildren=r.setArrowChildren.bind(u()(r)),r.attachHandleClick=r.attachHandleClick.bind(u()(r)),r.handleClick=r.handleClick.bind(u()(r)),r.attachHandleKeyDown=r.attachHandleKeyDown.bind(u()(r)),r.handleKeyDown=r.handleKeyDown.bind(u()(r)),r.state={selections:[],uuid:"".concat(S()),addClass:C(e.addClass)?e.addClass:"",defaultClass:C(e.defaultClass)?e.defaultClass:"rr-filter-mapping",id:C(e.id)?e.id:"",data:O(e.data)?e.data:{},mapping:O(e.mapping)?e.mapping:{},callback:P(e.callback)?e.callback:void 0,callbackProps:e.callbackProps,supportKeyDown:!x(e.supportKeyDown)||e.supportKeyDown,dummy:O(e.dummy)?e.dummy:{}},r.arrowBehaviorActive=!1,r.resetArrowBehavior(),r}return l()(n,[{key:"componentDidMount",value:function(){this.attachHandleClick(),this.attachHandleKeyDown();var e=this.state.selections;e.push(this.getEmptyOption()),this.setState({selections:e})}},{key:"callback",value:function(){var e=this.state,t=e.selections,n=e.callback,r=e.callbackProps;if(n){for(var o=[],a=0;a<=t.length-1;a++)if(O(t[a])&&C(t[a].selectedText)&&""!==t[a].selectedText){var i=t[a],c=i.selectedText,l=i.selectedChild,s=i.selectedParent,u=i.target;o.push({text:c,parent:s,child:l,target:u})}n(o,r)}}},{key:"componentWillUnmount",value:function(){this.attachHandleClick(!1)}},{key:"attachHandleClick",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];document.removeEventListener("click",this.handleClick),e&&document.addEventListener("click",this.handleClick)}},{key:"handleClick",value:function(e){this.refNode&&this.refNode.current&&!this.refNode.current.contains(e.target)&&this.toggle(-1,!1)}},{key:"attachHandleKeyDown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.supportKeyDown&&(document.removeEventListener("keydown",this.handleKeyDown),e&&document.addEventListener("keydown",this.handleKeyDown))}},{key:"handleKeyDown",value:function(e){var t=this;if(this.arrowBehaviorActive){var n=this.state.selections;if(E(this.getArrowParent())&&b(n)&&n.length){var r=n.filter((function(e){return e.selectedParent===t.getArrowParent()}));if(b(r)&&(r=r[0].options),r.length){var o=["Enter",13],a=["ArrowDown",40],i=["ArrowUp",38],c=["Escape",27],l=[].concat(o,a,i,c);if((e.key||e.keycode)&&(l.includes(e.key)||l.includes(e.keycode))){var s=e.key,u=e.keycode,d=this.getArrowChild();if(a.includes(s)||a.includes(u))return(d+=1)>=r.length&&(d=0),this.setArrowChild(d),this.forceUpdate();if(i.includes(s)||i.includes(u))return(d-=1)<0&&(d=r.length-1),this.setArrowChild(d),this.forceUpdate();(o.includes(s)||o.includes(u))&&this.select(this.getArrowParent(),this.getArrowChild(),r[d],r),(c.includes(s)||c.includes(u))&&(this.toggle(-1,!1),this.resetArrowBehavior())}}}}}},{key:"select",value:function(e,t,n,r){var o=this,a=this.state.selections,i=n.empty,c=n.text,l=n.mapping,s=[];this.resetArrowBehavior(),i&&(a[e]=this.getEmptyOption()),i||(a[e].selectedParent=e,a[e].selectedChild=t,a[e].selectedText=c,a[e].mapping=l,a[e].target=n,a[e].options=r,this.setArrowChild(t));for(var u=0;u<=e;u++)O(a[u])&&s.push(a[u]);this.setState({selections:s},(function(){o.toggle(e,!1,r),o.callback()}))}},{key:"getEmptyOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{selectedParent:null!==e?e:-1,selectedChild:-1,selectedText:"",show:!1,mapping:[],target:{},options:b(t)?t:[]}}},{key:"toggle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.state.selections;this.resetArrowBehavior(),0===r.filter((function(t){return t.selectedParent===e})).length&&r.push(this.getEmptyOption(e,n));for(var o=0;o<=r.length-1;o++)o==e&&t?(r[o].show=!r[o].show,!0===r[o].show&&this.state.supportKeyDown&&(this.serArrowParent(e),O(r[o])&&E(r[o].selectedChild)&&this.setArrowChild(r[o].selectedChild))):r[o].show=!1;this.setState({selections:r})}},{key:"allowToogle",value:function(e,t){return!!(0===t||e&&e[t-1]&&-1!==e[t-1].selectedParent)}},{key:"getOptionJsx",value:function(e,t,n,r,a){var i=this,c=t.text,l=t.empty,s=a.selectedChild;return g().createElement("li",o()({key:"".concat(n,"-option-").concat(r),value:c,className:"li ".concat(r===s?"selected":""," ").concat(l?"empty":""," ").concat(r===this.getArrowChild()&&n===this.getArrowParent()?"arrow-selected":"")},r!==s&&{onClick:function(){return i.select(n,r,t,e)}},{onMouseOver:function(){return i.setArrowChildren(r)}}),c)}},{key:"getFilterJsx",value:function(){var e=this,t=this.state,n=t.selections,r=t.dummy,a=[],i=0,c=function(t,r){var i=t.options,c=t.arrow;b(i)||(i=[]),O(c)||(c={});var l=c,s=l.char,u=l.direction;C(u)&&["right","left"].includes(u)||(u="right");for(var d="filter-".concat(r),h=[],p=0;p<=i.length-1;p++){var f=i[p];O(f)||(f={}),h.push(e.getOptionJsx(i,f,r,p,n[r]?n[r]:e.getEmptyOption()))}var v=n&&n[r]&&n[r].selectedText?n[r].selectedText:t.placeholder;a.push(g().createElement("span",{key:d,className:"dropdown"},g().createElement("span",o()({className:"placeholder user-select-none"},e.allowToogle(n,r)&&{onClick:function(){return e.toggle(r,!0,i)}}),"left"===u&&s&&g().createElement("span",{className:"icon icon-left"},s),g().createElement("span",{className:"text ".concat(n&&n[r]&&n[r].selectedText?"":"dimmed")},v&&v),"right"===u&&s&&g().createElement("span",{className:"icon icon-right"},s)),n&&n[r]&&n[r].show&&g().createElement("div",{className:"wrapper"},g().createElement("ul",{className:"ul",onKeyDown:function(t){return e.handleKeyDown(t,r)}},h))))};if(c(this.state.data,i),n.length)for(var l=0;l<=n.length-1;l++){var s=this.state.mapping;if(b(n[l].mapping))for(var u=0;u<=n[l].mapping.length-1;u++)O(s[n[l].mapping[u]])&&(i+=1,c(s[n[l].mapping[u]],i))}if(O(r)&&E(r.count)&&0<r.count){var d=r.count,h=r.placeholders;if((!E(d)||0>d)&&(d=0),b(h)&&0!==h.length||(h=[]),d&&a.length-1<d&&h.length)for(var p=a.length-1;p<d;p++){var f=O(h[p])?h[p]:h[h.length-1],v=f.arrow,y=f.placeholder;O(v)||(v={});var m=v,w=m.char,k=m.direction;C(k)&&["right","left"].includes(k)||(k="right"),a.push(g().createElement("span",{key:"custom-placeholder-".concat(p,"-").concat(this.state.uuid),className:"dropdown"},g().createElement("span",{className:"placeholder user-select-none"},"left"===k&&w&&g().createElement("span",{className:"icon icon-left"},w),g().createElement("span",{className:"text dimmed"},y&&y),"right"===k&&w&&g().createElement("span",{className:"icon icon-right"},w))))}for(var x=[],P=0;P<=a.length-1&&!(P>=d);P++)x.push(a[P]);a=x}return a}},{key:"setArrowChildren",value:function(e){this.setArrowChild(e),this.forceUpdate()}},{key:"setArrowChild",value:function(e){this.arrowBehaviorActive=!0,this[this.currentSelectedChild]=e}},{key:"getArrowChild",value:function(){return this[this.currentSelectedChild]}},{key:"serArrowParent",value:function(e){this.arrowBehaviorActive=!0,this[this.currentOpenedParent]=e}},{key:"getArrowParent",value:function(){return this[this.currentOpenedParent]}},{key:"resetArrowBehavior",value:function(){this.arrowBehaviorActive=!1,C(this.currentOpenedParent)||(this.currentOpenedParent="current-opened-parent-".concat(S())),C(this.currentSelectedChild)||(this.currentSelectedChild="current-selected-child-".concat(S())),this[this.currentOpenedParent]=0,this[this.currentSelectedChild]=0}},{key:"render",value:function(){var e=this.state,t=e.addClass,n=e.defaultClass,r=e.id;return g().createElement("span",{id:r,className:"".concat(n," ").concat(t),ref:this.refNode},this.getFilterJsx(!0))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return A(["addClass","defaultClass","id","data","mapping","callback","callbackProps","supportKeyDown","dummy"],e,t)?{addClass:C(e.addClass)?e.addClass:"",defaultClass:C(e.defaultClass)?e.defaultClass:"rr-filter-mapping",id:C(e.id)?e.id:"",data:O(e.data)?e.data:{},mapping:O(e.mapping)?e.mapping:{},callback:P(e.callback)?e.callback:void 0,callbackProps:e.callbackProps,supportKeyDown:!x(e.supportKeyDown)||e.supportKeyDown,dummy:O(e.dummy)?e.dummy:{}}:null}}]),n}(g().Component)},491:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},946:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},33:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},221:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},323:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},22:(e,t,n)=>{var r=n(596);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},246:(e,t,n)=>{var r=n(924),o=n(491);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},596:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},924:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(404)})();